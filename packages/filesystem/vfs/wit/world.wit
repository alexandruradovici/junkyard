package junkyard-vfs:wasm-local-fs;

interface vfs {
    enum kind {
        file,
        folder,
        link,
        unknown
    }

    record stat {
        kind: kind,
        size: u64
    }

    resource filesystem {
        read-dir: func(path: string) -> result<list<string>, string>;
        stat: func(path: string) -> result<stat, string>;
    }

    init: func() -> result<filesystem>;
}

world plugin {
    export vfs;
}
